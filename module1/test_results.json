{
  "summary": {
    "start_time": "2025-12-12T19:04:08.613435",
    "end_time": "2025-12-12T19:13:11.512700",
    "total_duration": 542.899265,
    "passed": 4,
    "failed": 0,
    "skipped": 2
  },
  "results": {
    "01_ingest.py": {
      "script": "01_ingest.py",
      "description": "Data Ingestion",
      "number": "01",
      "status": "PASSED",
      "return_code": 0,
      "output": "============================================================\nModule 1 - Step 1: Data Ingestion\n============================================================\nStart time: 2025-12-12 19:04:09\n\nUser: ozarate\n\n------------------------------------------------------------\nSTEP 1: Download Data\n------------------------------------------------------------\nDownloading dataset...\nDownloaded to data/bank-additional.zip\nExtracted to data/ (0.22 seconds)\nTotal download time: 0.84 seconds\n\n------------------------------------------------------------\nSTEP 2: Load and Inspect Data\n------------------------------------------------------------\n\nLoading data with Pandas...\n\n printing csv_path data/bank-additional/bank-additional-full.csv\nData loaded in 0.11 seconds\n\nDataset shape: (41188, 21)\nColumns: ['age', 'job', 'marital', 'education', 'default', 'housing', 'loan', 'contact', 'month', 'day_of_week', 'duration', 'campaign', 'pdays', 'previous', 'poutcome', 'emp.var.rate', 'cons.price.idx', 'cons.conf.idx', 'euribor3m', 'nr.employed', 'y']\n\nFirst few rows:\n   age        job  marital    education  default housing loan    contact  ... previous     poutcome  emp.var.rate  cons.price.idx  cons.conf.idx  euribor3m nr.employed   y\n0   56  housemaid  married     basic.4y       no      no   no  telephone  ...        0  nonexistent           1.1          93.994          -36.4      4.857      5191.0  no\n1   57   services  married  high.school  unknown      no   no  telephone  ...        0  nonexistent           1.1          93.994          -36.4      4.857      5191.0  no\n2   37   services  married  high.school       no     yes   no  telephone  ...        0  nonexistent           1.1          93.994          -36.4      4.857      5191.0  no\n3   40     admin.  married     basic.6y       no      no   no  telephone  ...        0  nonexistent           1.1          93.994          -36.4      4.857      5191.0  no\n4   56   services  married  high.school       no      no  yes  telephone  ...        0  nonexistent           1.1          93.994          -36.4      4.857      5191.0  no\n\n[5 rows x 21 columns]\n\nData types:\nage                 int64\njob                object\nmarital            object\neducation          object\ndefault            object\nhousing            object\nloan               object\ncontact            object\nmonth              object\nday_of_week        object\nduration            int64\ncampaign            int64\npdays               int64\nprevious            int64\npoutcome           object\nemp.var.rate      float64\ncons.price.idx    float64\ncons.conf.idx     float64\neuribor3m         float64\nnr.employed       float64\ny                  object\ndtype: object\n\nTarget variable distribution:\ny\nno     36548\nyes     4640\nName: count, dtype: int64\n\nTotal load and inspect time: 0.13 seconds\n\n------------------------------------------------------------\nSTEP 3: Write to Data Lake\n------------------------------------------------------------\n\nWriting to data lake with user: ozarate\nUsing connection: se-aws-edl\nSpark Application Id:spark-5199c6b3623548ecb42773bfcad15b9f\nSpark DataFrame conversion: 6.85 seconds\n\u2713 Data written to DEFAULT_OZARATE.BANK_MARKETING_OZARATE\nIceberg write time: 52.90 seconds\nTotal data lake write time: 89.92 seconds\n\n------------------------------------------------------------\nSTEP 4: Create Sample Inference Data\n------------------------------------------------------------\n\nCreating sample inference data...\n\u2713 Sample inference data created\n  Shape: (1000, 20)\n  Columns: 20\n  Saved to: inference_data/raw_inference_data.csv\n  Creation time: 0.04 seconds\n\n============================================================\nEXECUTION SUMMARY\n============================================================\nEnd time: 2025-12-12 19:05:40\nTotal execution time: 90.93 seconds (1.52 minutes)\n============================================================\n\u2705 Ingestion complete!\n\nNext steps:\n  \u2022 Training pipeline: 02_eda_feature_engineering.ipynb \u2192 03_train_quick.py\n  \u2022 Inference pipeline: 05_inference_data_prep.py \u2192 06_inference_predict.py\n============================================================\nSetting spark.hadoop.yarn.resourcemanager.principal to ozarate\nHive Session ID = 05434090-d5fe-4a85-b99e-6fb319bd7685\n\n[Stage 0:>                                                                                                                                                              (0 + 0) / 2]\n\n[Stage 0:>                                                                                                                                                              (0 + 2) / 2]\n\n                                                                                                                                                                                    \n",
      "error": null,
      "duration": 93.121777,
      "timestamp": "2025-12-12T19:04:08.613551"
    },
    "02_eda_notebook.ipynb": {
      "script": "02_eda_notebook.ipynb",
      "description": "EDA Analysis (Jupyter)",
      "number": "02",
      "status": "PASSED",
      "return_code": 0,
      "output": "[NbConvertApp] Converting notebook /home/cdsw/module1/02_eda_notebook.ipynb to notebook\nSetting spark.hadoop.yarn.resourcemanager.principal to ozarate\nHive Session ID = 418a918e-d798-40a6-9491-b2405cfae38b\n\n[Stage 0:>                                                                                                                                                              (0 + 0) / 1]\n\n[Stage 0:>                                                                                                                                                              (0 + 1) / 1]\n\n                                                                                                                                                                                    \n[NbConvertApp] Writing 1740446 bytes to /home/cdsw/module1/02_eda_notebook_output.nbconvert.ipynb\n",
      "error": null,
      "duration": 207.061925,
      "timestamp": "2025-12-12T19:05:41.735923"
    },
    "03_train_quick.py": {
      "script": "03_train_quick.py",
      "description": "Quick Model Training",
      "number": "03",
      "status": "PASSED",
      "return_code": 0,
      "output": "================================================================================\nModule 1 - Step 3: QUICK Model Training with MLflow\nMODE: QUICK (1 model \u00d7 2 configs \u00d7 2 SMOTE variants = 4 runs)\n================================================================================\n\nStart time: 2025-12-12 19:09:16\n\u2713 Experiment: BANK_MARKETING_EXPERIMENTS_ozarate\n\u2713 Tracking URI: cml://localhost\n--------------------------------------------------------------------------------\n\u2713 Loaded raw data: (41188, 21)\n\n================================================================================\nPHASE 1: ENGINEERED FEATURES (WITH ENGAGEMENT SCORE)\n================================================================================\n\n================================================================================\nQUICK EXPERIMENTS: ENGINEERED\n================================================================================\n\nLOGISTIC REGRESSION (2 CONFIGS)\n--------------------------------------------------------------------------------\n\nTraining: LR_1_engineered_no_smote\n  Model: logistic | SMOTE: False\n  Parameters: {'C': 1.0, 'max_iter': 1000, 'solver': 'lbfgs'}\n  Train Accuracy: 0.9100 | Test Accuracy: 0.9125\n  Test Precision: 0.6800 | Test Recall: 0.4213\n  Test F1: 0.5203 | Test ROC-AUC: 0.9430\n  Original class distribution: [29238  3712]\n  SMOTE class distribution:    [29238 29238]\n\nTraining: LR_1_engineered_with_smote\n  Model: logistic | SMOTE: True\n  Parameters: {'C': 1.0, 'max_iter': 1000, 'solver': 'lbfgs'}\n  Train Accuracy: 0.8795 | Test Accuracy: 0.8622\n  Test Precision: 0.4452 | Test Recall: 0.9052\n  Test F1: 0.5968 | Test ROC-AUC: 0.9431\n\nTraining: LR_2_engineered_no_smote\n  Model: logistic | SMOTE: False\n  Parameters: {'C': 0.1, 'max_iter': 1000, 'solver': 'lbfgs'}\n  Train Accuracy: 0.9097 | Test Accuracy: 0.9131\n  Test Precision: 0.6873 | Test Recall: 0.4192\n  Test F1: 0.5207 | Test ROC-AUC: 0.9435\n  Original class distribution: [29238  3712]\n  SMOTE class distribution:    [29238 29238]\n\nTraining: LR_2_engineered_with_smote\n  Model: logistic | SMOTE: True\n  Parameters: {'C': 0.1, 'max_iter': 1000, 'solver': 'lbfgs'}\n  Train Accuracy: 0.8786 | Test Accuracy: 0.8611\n  Test Precision: 0.4430 | Test Recall: 0.9052\n  Test F1: 0.5949 | Test ROC-AUC: 0.9433\n\n================================================================================\n\u23f1\ufe0f  EXECUTION TIMING:\n================================================================================\n  Phase 1 (Engineered):       75.50 seconds\n  Total execution time:       75.68 seconds (1.26 minutes)\n  Average per experiment:   18.92 seconds\n  End time: 2025-12-12 19:10:32\n\n================================================================================\nEXPERIMENT SUMMARY & PERFORMANCE METRICS\n================================================================================\n\n\ud83d\udcca BEST MODEL (WITH ENGINEERED FEATURES):\n  Model: Logistic Regression (Config 2)\n  SMOTE: False\n  Accuracy: 0.9131\n  Precision: 0.6873\n  Recall: 0.4192\n  F1-Score: 0.5207\n  ROC-AUC: 0.9435\n\n\ud83d\udcca SMOTE IMPACT ANALYSIS:\n    Logistic Regression:\n      Precision: -35.04% | Recall: +115.38%\n\n\ud83d\udcbe Results saved to outputs/\n   \u2022 engineered_results.csv\n   \u2022 execution_timing.txt\n\n================================================================================\n\u2705 QUICK TRAINING COMPLETE!\n\nTotal experiments run: 4\n\n\ud83d\udd0d View experiments in MLflow UI:\n  1. Run: mlflow ui\n  2. Open: http://localhost:5000\n\n\ud83d\udca1 Tips for MLflow UI:\n  \u2022 Use tags to filter: model_family, smote, features\n  \u2022 Compare runs side-by-side\n  \u2022 Sort by test_roc_auc to find best models\n\n\ud83d\ude80 Ready for more? Try the extended version:\n  python 03_train_extended.py\n\nNext step: 04_deploy.py\n================================================================================\nExperiment with name BANK_MARKETING_EXPERIMENTS_ozarate not found\n2025/12/12 19:09:17 INFO mlflow.tracking.fluent: Experiment with name 'BANK_MARKETING_EXPERIMENTS_ozarate' does not exist. Creating a new experiment.\nCreating run for experiment_id: xm45-3iwi-36wq-ixf6, user_id: cdsw, run_name: LR_1_engineered_no_smote\nCreating run for experiment_id: xm45-3iwi-36wq-ixf6, user_id: cdsw, run_name: LR_1_engineered_with_smote\nCreating run for experiment_id: xm45-3iwi-36wq-ixf6, user_id: cdsw, run_name: LR_2_engineered_no_smote\nCreating run for experiment_id: xm45-3iwi-36wq-ixf6, user_id: cdsw, run_name: LR_2_engineered_with_smote\n",
      "error": null,
      "duration": 84.578871,
      "timestamp": "2025-12-12T19:09:08.798673"
    },
    "04_deploy.py": {
      "script": "04_deploy.py",
      "description": "Model Deployment",
      "number": "04",
      "status": "PASSED",
      "return_code": 0,
      "output": "================================================================================\nModule 1 - Step 4: Model Deployment (V3 - Clean)\n================================================================================\n2025-12-12 19:10:38,845 - INFO - Starting deployment for user: ozarate\n2025-12-12 19:10:38,845 - INFO - Experiment: BANK_MARKETING_EXPERIMENTS_ozarate\n2025-12-12 19:10:38,845 - INFO - Model: banking_campaign_predictor\n\n[1/5] Finding best model by F1 score...\n\u2705 Best model found:\n   Run ID: ka2t-3ifx-fs5c-eetl\n   F1 Score: 0.5968\n\n[2/5] Registering model in CML...\n2025-12-12 19:10:38,923 - INFO - ============================================================\n2025-12-12 19:10:38,923 - INFO - STEP 2: Model Registration\n2025-12-12 19:10:38,923 - INFO - ============================================================\n2025-12-12 19:10:38,926 - INFO - Project ID: qqxc-1bqx-wdks-avue\n2025-12-12 19:10:38,927 - INFO - Experiment ID: xm45-3iwi-36wq-ixf6\n2025-12-12 19:10:38,927 - INFO - Run ID: ka2t-3ifx-fs5c-eetl\n2025-12-12 19:10:38,927 - INFO - Authentication Context:\n2025-12-12 19:10:38,927 - INFO -   - HADOOP_USER_NAME: ozarate\n2025-12-12 19:10:38,927 - INFO -   - PROJECT_OWNER: ozarate\n2025-12-12 19:10:38,927 - INFO -   - Current User (USERNAME): ozarate\n2025-12-12 19:10:38,927 - INFO - Checking for existing registered models...\n2025-12-12 19:10:40,051 - INFO - Found 0 registered models in this project (out of 10 total)\n2025-12-12 19:10:40,051 - INFO - Creating new registered model: banking_campaign_predictor\n2025-12-12 19:10:40,051 - INFO - Request payload:\n2025-12-12 19:10:40,051 - INFO -   - project_id: qqxc-1bqx-wdks-avue\n2025-12-12 19:10:40,051 - INFO -   - experiment_id: xm45-3iwi-36wq-ixf6\n2025-12-12 19:10:40,051 - INFO -   - run_id: ka2t-3ifx-fs5c-eetl\n2025-12-12 19:10:40,051 - INFO -   - model_name: banking_campaign_predictor\n2025-12-12 19:10:40,051 - INFO -   - model_path: model\n2025-12-12 19:10:42,190 - INFO - \u2705 Successfully created registered model\n2025-12-12 19:10:42,190 - INFO -   - Registered Model ID: 18zr-6vxi-u5zu-spbv\n2025-12-12 19:10:42,190 - INFO -   - Model Version ID: di4l-q4qh-ul96-l63m\n\u2705 Model registered in CML:\n   Registered Model ID: 18zr-6vxi-u5zu-spbv\n   Model Version ID: di4l-q4qh-ul96-l63m\n\n[3/5] Waiting for CML to finalize...\n   \u2705 Ready\n\n[4/5] Creating CML model...\n2025-12-12 19:11:02,205 - INFO - ============================================================\n2025-12-12 19:11:02,205 - INFO - STEP 4: Create CML Model\n2025-12-12 19:11:02,205 - INFO - ============================================================\n2025-12-12 19:11:02,205 - INFO - Request payload:\n2025-12-12 19:11:02,205 - INFO -   - name: banking_campaign_predictor\n2025-12-12 19:11:02,205 - INFO -   - registered_model_id: 18zr-6vxi-u5zu-spbv\n2025-12-12 19:11:02,205 - INFO -   - description: Banking campaign model (F1: 0.5968)\n2025-12-12 19:11:02,325 - INFO - \u2705 Model created successfully: 800ad019-4300-4539-a2c3-1b55f67f3bc5\n2025-12-12 19:11:02,325 - INFO -   - Has registered_model_id: 18zr-6vxi-u5zu-spbv\n   \u2705 Model created: 800ad019-4300-4539-a2c3-1b55f67f3bc5\n   \u2705 Has registered_model_id: 18zr-6vxi-u5zu-spbv\n\n[5/6] Creating model build...\n2025-12-12 19:11:02,325 - INFO - ============================================================\n2025-12-12 19:11:02,325 - INFO - STEP 5: Create Model Build\n2025-12-12 19:11:02,325 - INFO - ============================================================\n2025-12-12 19:11:02,325 - INFO - Request payload:\n2025-12-12 19:11:02,325 - INFO -   - registered_model_version_id: di4l-q4qh-ul96-l63m\n2025-12-12 19:11:02,325 - INFO -   - runtime_identifier: docker.repository.cloudera.com/cloudera/cdsw/ml-runtime-pbj-workbench-python3.10-standard:2025.09.1-b5\n2025-12-12 19:11:02,325 - INFO -   - model_id: 800ad019-4300-4539-a2c3-1b55f67f3bc5\n2025-12-12 19:11:04,655 - INFO - \u2705 Build created successfully: fcd3b7e0-f54e-494a-a496-6bd56edb15ef\n2025-12-12 19:11:04,655 - INFO -   - Status: pending\n   \u2705 Build created: fcd3b7e0-f54e-494a-a496-6bd56edb15ef\n   \u23f3 Build is running (~5-10 minutes)\n\n[6/6] Waiting for build to complete before deployment...\n2025-12-12 19:11:04,655 - INFO - ============================================================\n2025-12-12 19:11:04,655 - INFO - STEP 6: Build Monitoring and Deployment\n2025-12-12 19:11:04,655 - INFO - ============================================================\n2025-12-12 19:11:04,655 - INFO - Monitoring build fcd3b7e0-f54e-494a-a496-6bd56edb15ef\n2025-12-12 19:11:04,655 - INFO - Check interval: 30 seconds\n2025-12-12 19:11:04,656 - INFO - Max wait time: 15 minutes\n   \u23f3 Checking build status every 30 seconds...\n   (Will wait up to 15 minutes)\n2025-12-12 19:11:04,662 - INFO - Check 1/30: Build status = pending\n   Check 1/30: Build status = pending\n2025-12-12 19:11:04,662 - WARNING - Unknown build status: pending\n   \u26a0\ufe0f  Unknown status: pending\n2025-12-12 19:11:34,693 - INFO - Check 2/30: Build status = building\n   Check 2/30: Build status = building\n2025-12-12 19:12:04,731 - INFO - Check 3/30: Build status = building\n   Check 3/30: Build status = building\n2025-12-12 19:12:34,750 - INFO - Check 4/30: Build status = building\n   Check 4/30: Build status = building\n2025-12-12 19:13:04,782 - INFO - Check 5/30: Build status = built\n   Check 5/30: Build status = built\n2025-12-12 19:13:04,783 - INFO - \u2705 Build completed successfully!\n   \u2705 Build completed successfully!\n2025-12-12 19:13:04,783 - INFO - Build succeeded, proceeding with deployment...\n\n   Creating deployment...\n2025-12-12 19:13:04,783 - INFO - Deployment request payload:\n2025-12-12 19:13:04,783 - INFO -   - cpu: 2\n2025-12-12 19:13:04,783 - INFO -   - memory: 4GB\n2025-12-12 19:13:04,783 - INFO -   - model_id: 800ad019-4300-4539-a2c3-1b55f67f3bc5\n2025-12-12 19:13:04,783 - INFO -   - build_id: fcd3b7e0-f54e-494a-a496-6bd56edb15ef\n2025-12-12 19:13:11,130 - INFO - \u2705 Deployment created successfully: ed1b133f-c833-449c-a6c7-ff969e29d4d9\n2025-12-12 19:13:11,131 - INFO -   - Status: deploying\n   \u2705 Deployment created: ed1b133f-c833-449c-a6c7-ff969e29d4d9\n2025-12-12 19:13:11,131 - INFO - ============================================================\n2025-12-12 19:13:11,131 - INFO - DEPLOYMENT SUMMARY\n2025-12-12 19:13:11,131 - INFO - ============================================================\n\n================================================================================\n2025-12-12 19:13:11,131 - INFO - \u2705 DEPLOYMENT COMPLETE!\n\u2705 DEPLOYMENT COMPLETE!\n================================================================================\n\n\ud83d\udcca Model Summary:\n   Model Name: banking_campaign_predictor\n   F1 Score: 0.5968\n   CML Model ID: 800ad019-4300-4539-a2c3-1b55f67f3bc5\n   Build ID: fcd3b7e0-f54e-494a-a496-6bd56edb15ef\n2025-12-12 19:13:11,131 - INFO - Model Summary:\n2025-12-12 19:13:11,131 - INFO -   - Model Name: banking_campaign_predictor\n2025-12-12 19:13:11,131 - INFO -   - F1 Score: 0.5968\n2025-12-12 19:13:11,131 - INFO -   - CML Model ID: 800ad019-4300-4539-a2c3-1b55f67f3bc5\n2025-12-12 19:13:11,131 - INFO -   - Build ID: fcd3b7e0-f54e-494a-a496-6bd56edb15ef\n   Deployment ID: ed1b133f-c833-449c-a6c7-ff969e29d4d9\n\n\u2705 REST API ENDPOINT IS LIVE!\n   Access it: Models > banking_campaign_predictor > Deployments\n\n\ud83c\udfaf Test your API:\n   curl -X POST https://your-cml-workspace/models/...\n2025-12-12 19:13:11,131 - INFO -   - Deployment ID: ed1b133f-c833-449c-a6c7-ff969e29d4d9\n2025-12-12 19:13:11,131 - INFO - REST API endpoint is live!\n2025-12-12 19:13:11,131 - INFO - Saving deployment info to outputs/deployment_info.json\n2025-12-12 19:13:11,131 - INFO - Deployment info: {\n  \"run_id\": \"ka2t-3ifx-fs5c-eetl\",\n  \"model_name\": \"banking_campaign_predictor\",\n  \"registered_model_id\": \"18zr-6vxi-u5zu-spbv\",\n  \"model_version_id\": \"di4l-q4qh-ul96-l63m\",\n  \"f1_score\": 0.5968028419182948,\n  \"cml_model_id\": \"800ad019-4300-4539-a2c3-1b55f67f3bc5\",\n  \"build_id\": \"fcd3b7e0-f54e-494a-a496-6bd56edb15ef\",\n  \"deployment_id\": \"ed1b133f-c833-449c-a6c7-ff969e29d4d9\",\n  \"status\": \"Deployed\"\n}\n\n\ud83d\udcbe Saved to: outputs/deployment_info.json\n\ud83d\udcbe Debug log saved to: outputs/deployment_debug.log\n================================================================================\n2025-12-12 19:13:11,140 - INFO - ============================================================\n2025-12-12 19:13:11,140 - INFO - Script completed successfully\n2025-12-12 19:13:11,140 - INFO - ============================================================\n",
      "error": null,
      "duration": 158.131117,
      "timestamp": "2025-12-12T19:10:33.378449"
    },
    "05_1_inference_data_prep.py": {
      "script": "05_1_inference_data_prep.py",
      "description": "Inference Data Preparation",
      "number": "05",
      "status": "SKIPPED",
      "return_code": null,
      "output": "",
      "error": "File not found: /home/cdsw/module1/05_1_inference_data_prep.py",
      "duration": 0,
      "timestamp": "2025-12-12T19:13:11.510456"
    },
    "05_2_inference_predict.py": {
      "script": "05_2_inference_predict.py",
      "description": "Inference Predictions",
      "number": "05",
      "status": "SKIPPED",
      "return_code": null,
      "output": "",
      "error": "File not found: /home/cdsw/module1/05_2_inference_predict.py",
      "duration": 0,
      "timestamp": "2025-12-12T19:13:11.511778"
    }
  }
}